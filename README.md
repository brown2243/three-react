# 다시 하는 ThreeJS 학습

## [cameras](https://threejs.org/manual/#ko/cameras)

### Three.js에서 가장 자주 사용하는 카메라는 여태까지 썼던 PerspectiveCamera(원근 카메라)입니다.

이 카메라는 멀리 있는 물체를 가까이 있는 것보다 상대적으로 작게 보이도록 해주죠.
PerspectiveCamera는 절두체(frustum)를 만듭니다.
PerspectiveCamera는 4가지 속성을 바탕으로 절두체를 만듭니다.

- near는 절두체가 어디서 시작할지 결정하는 속성이고,
- far는 절두체의 끝입니다.
- fov는 시아갹(field of view)으로, near와 카메라의 거리에 따라 절두체의 높이를 계산해 적용합니다.
- aspect는 절두체의 너비에 관여하는 비율으로, 절두체의 너비는 절두체의 높이에 이 비율을 곱한 값입니다.

near를 0.0000000001로 설정하고 far를 10000000000000로 설정해버리면요?
이러면 모든 게 항상 다 보이지 않나요? 이유를 설명하자면, GPU는 어떤 물체가 앞에 있거나 다른 물체의 뒤에 있을 때만 정밀도가 높기 때문입니다. 정밀도는 일정량이 near와 far 사이에 퍼져 있는데, 기본적으로 카메라에 가까울 수록 정밀도가 높고 멀수록 정밀도가 낮아집니다.

**z-파이팅(z-fighting, Stitching) : 컴퓨터의 GPU가 어떤 픽셀이 앞이고 어떤 픽셀을 뒤로 보내야할지 결정할 정밀도가 모자를 때 발생하는 현상.**

```
const renderer = new THREE.WebGLRenderer({
      canvas,
      logarithmicDepthBuffer: true, // z-fighting 임시방편
    });
```

이 기능을 쓰지 말아야 하는 이유는

1. 이 기능이 일반적인 해결책보다 훨씬 성능이 나쁘기 때문입니다.
2. 거의 모든 데스크탑 GPU가 이 기능을 지원하나, 모바일 기기는 대부분 이 기능을 지원하지 않습니다.

게다가 이 기능을 활성화해도, near를 더 작게, far를 더 멀게 설정하다보면 결국 같은 현상을 만나게 될 겁니다.

이는 항상 near와 far를 설정하는데 많은 공을 들여야 한다는 의미입니다. near는 대상이 보이는 한 가장 멀게, far도 대상이 보이는 한 카메라와 가장 가깝게 설정하는 것이 좋죠. 만약 거대한 공간을 렌더링하는 경우, 예를 들어 사람의 속눈썹과 50km 떨어진 산을 동시에 보이게 하려면 다른 해결책-나중에 다룰지도 모르는-을 찾아야 합니다. 당장은 near와 far를 적절하게 설정하는 게 중요하다는 것만 알아둡시다.

### 두 번째로 자주 사용하는 카메라는 OrthographicCamera(정사영 카메라)입니다.

절두체 대신 left, right, top, bottom, near, far로 육면체를 정의해 사용하죠. 육면체로 화면을 투사하기에 원근 효과가 없습니다.

2분할 화면 예제를 수정해 첫 번째 화면을 OrthographicCamera로 바꾸겠습니다.

Three.js에서 OrthographicCamera는 주로 2D 요소를 표현하기 위해 사용합니다.
카메라에 얼마나 많은 요소를 보여줄지만 결정하면 되죠.
OrthographicCamera는 게임 엔진 에디터 등에서처럼 3D 모델링 결과물의 상, 하, 좌, 우, 앞, 뒤를 렌더링할 때도 사용합니다.
